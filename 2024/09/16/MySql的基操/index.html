<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL的基操 | 江湖有缘见</title><meta name="author" content="江湖有缘见"><meta name="copyright" content="江湖有缘见"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MySql常用命令12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576mysql -u用户名 -p密码		#登录数据库quit		#退出数据库show databas">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL的基操">
<meta property="og:url" content="https://jhyyj.com/2024/09/16/MySql%E7%9A%84%E5%9F%BA%E6%93%8D/index.html">
<meta property="og:site_name" content="江湖有缘见">
<meta property="og:description" content="MySql常用命令12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576mysql -u用户名 -p密码		#登录数据库quit		#退出数据库show databas">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-gp6koe_2520x1680.png">
<meta property="article:published_time" content="2024-09-16T11:46:23.034Z">
<meta property="article:modified_time" content="2024-09-16T11:46:04.567Z">
<meta property="article:author" content="江湖有缘见">
<meta property="article:tag" content="江湖有缘见 jhyyj 江湖有缘见的博客 jhyyj的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-gp6koe_2520x1680.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/jhyyj/picture@main/blog/touxiang.jpg"><link rel="canonical" href="https://jhyyj.com/2024/09/16/MySql%E7%9A%84%E5%9F%BA%E6%93%8D/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"646V2O35EZ","apiKey":"4447dfc47e0d5bdac7755a96d436c74b","indexName":"lndex-blog","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL的基操',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-16 19:46:04'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 8 || hour >= 20
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-gp6koe_2520x1680.png')"><nav id="nav"><span id="blog-info"><a href="/" title="江湖有缘见"></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQL的基操</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-16T11:46:23.034Z" title="发表于 2024-09-16 19:46:23">2024-09-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-16T11:46:04.567Z" title="更新于 2024-09-16 19:46:04">2024-09-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL的基操"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="MySql常用命令"><a href="#MySql常用命令" class="headerlink" title="MySql常用命令"></a>MySql常用命令</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">mysql -u用户名 -p密码		#登录数据库</span><br><span class="line">quit		#退出数据库</span><br><span class="line"></span><br><span class="line">show databases;		        #查看数据库</span><br><span class="line">use 库名;					  #进入数据库，切换数据库cd</span><br><span class="line">Show tables;				#查看当前所在数据库中有哪些表</span><br><span class="line">desc 表名;				  #查看表的字段结构数据类型</span><br><span class="line">select * from 表名;		  #查看表里的信息数据内容</span><br><span class="line">select * from 表名 where 字段名(id)=数据信息(3);	#等值查询，where指定查看表里id=3的信息</span><br><span class="line"></span><br><span class="line">create database 库名;		  #创建数据库</span><br><span class="line">show create database 库名;  #查看创建数据库时的语句</span><br><span class="line">create database 库名 character set utf8;		#创建数据库时指定字符集为utf8</span><br><span class="line">alter database 库名 character set utf8mb4;	#修改数据库字符集为utf8mb4</span><br><span class="line">create user 新用户名@&#x27;主机域.%&#x27; identified by &#x27;密码&#x27;;	#创建数据库的新用户</span><br><span class="line"></span><br><span class="line">select user();		#查看当前登录用户</span><br><span class="line">select user,host from mysql.user;	#查看数据库中的用户</span><br><span class="line">drop user &#x27;root&#x27;@&#x27;用户名&#x27;;			  #删除数据库中的用户</span><br><span class="line">show variables like &quot;%character%&quot;;		#查看数据库字符集</span><br><span class="line"></span><br><span class="line">create user 新用户名@&#x27;主机域.%&#x27; identified by &#x27;密码&#x27;;	#创建新用户</span><br><span class="line">mysql -u新用户名 -p密码 -h10.0.0.100(主机域)		#新用户登录-h</span><br><span class="line"></span><br><span class="line">alter user 用户名@&#x27;主机域&#x27; identified by &#x27;新密码&#x27;;		#修改用户密码方</span><br><span class="line">update mysql.user set password=PASSWORD(&#x27;密码&#x27;) where user=&#x27;用户名&#x27; and host=&#x27;IP.%&#x27;;	#另一种修改用户密码</span><br><span class="line"></span><br><span class="line">flush privileges;		#刷新落盘，刷新的意思</span><br><span class="line">mysqladmin password &#x27;123456&#x27;	#给管理员root设置密码，注意不是在数据库里</span><br><span class="line"></span><br><span class="line">drop database 库名;		  		  #删除数据库</span><br><span class="line">drop table 表名;			  		  #删除表</span><br><span class="line">alter table 表名 drop 字段名;		#删除表里某个字段、类型结构,不带column也能删除</span><br><span class="line">alter table 表名 drop column 字段名;	#删除表里某个字段、类型结构，</span><br><span class="line"></span><br><span class="line">rename table 表名 to 新表名;			#修改表名</span><br><span class="line"></span><br><span class="line">alter table 表名 change 字段名 新字段名 类型[int(),varchar(),tinyint()]; 		#修改字段名和字段的结构</span><br><span class="line">alter table 表名 change 字段名 字段名 int(3); 			#修改字段类型为int(3)</span><br><span class="line"></span><br><span class="line">select database();               #查看当前路径</span><br><span class="line">show databases like &quot;%库名%&quot;;	   	#筛选查看指定某个库</span><br><span class="line">show tables like &quot;%表名%&quot;;		#筛选查看指定某个表</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line">新增字段haha哈哈并设置数据类型</span><br><span class="line">alter table 表名 add haha int(20);   		 	 		     #不设置null，默认是yes</span><br><span class="line">alter table 表名 add haha int(20) not null; 	 		     #null设置为NO，默认是yes</span><br><span class="line">alter table 表名 add haha int(20) after xuhao;	  		     #创建haha字段在xuhao字段的后面，就是指定插入的位置</span><br><span class="line">alter table 表名 add haha int(20) not null first;		 	 #first 添加到第一列，不带first默认都是最后一列；</span><br><span class="line">alter table 表名 add haha int(20) not null comment&#x27;你好&#x27;;    #commen&#x27;&#x27;添加内容你好</span><br><span class="line">alter table 表名 add haha int(20) not null default &#x27;9&#x27; comment&#x27;你好&#x27; after id;	#添加字段haha，设置null为no，default为9，并指定插入在id字段下面</span><br><span class="line">#alter table 表名 add column 字段名 数据类型		#add后面带column也能创建字段，还没搞明白删除添加带column啥意思</span><br><span class="line">-------</span><br><span class="line"></span><br><span class="line">select count(*) from 表名;	#查询表里一共有多少条数据，count(*) </span><br><span class="line">select * from 表名 where 字段名=&#x27;数据信息&#x27;;	#等值查询，where只查看这个表里字段=&#x27;xxx&#x27;的全部条数据</span><br><span class="line">select * from 表名 where 字段名=&#x27;xxx&#x27; limit 10;   #(limit 10)限制查询，where只查看这个表里字段=&#x27;xxx&#x27;的10条数据</span><br><span class="line">select 字段名 from 表名 where 字段名=&#x27;xxx&#x27; limit 5;		#只查看xxx表里xxx字段等于xxx数据的5条全部信息</span><br><span class="line">select 字段名1,字段名2 from 表名 where 字段名=&#x27;xxx&#x27; limit 5;	#只查看表里字段1和字段2，where字段里=xxx的5条数据</span><br><span class="line">select * from 表名 where 字段名 &gt;=7000;	#区间查询，只查看这个表字段大于等于7000的全部数据</span><br><span class="line">#&gt;(大于号)、 &gt;=(大于等于)、 &lt;(小于)、 &lt;=(小于等于)、 !=(不等于)</span><br><span class="line">select * from 表名 where 字段名1 &gt; 7000 and 字段名2=&#x27;xxx&#x27;;	#逻辑查询，只查看这个表字段1里大于7000，且字段2=xxx的数据，</span><br><span class="line">select * from 表名 where 字段名1 &gt; 7000 or 字段名2=&#x27;xxx&#x27; limit 10;	#逻辑查询，只查看这个表字段1里大于7000和字段2里=xxx的十条数据</span><br><span class="line">select * from 表名 where 字段名1 &gt; 1000 and 字段名1 &lt; 2000;	  #多条件查询，查看这个表的字段名1里大于1000小于2000的全部数据</span><br><span class="line">select * from 表名 where 字段名1 like &quot;k%&quot;;	#模糊查询，只查看这个表的字段1里，k开头的全部数据</span><br><span class="line">select * from 表名 where 字段名1 like &quot;%h&quot;;	#模糊查询，只查看这个表的字段1里，h结尾的全部数据</span><br><span class="line">select * from 表名 where 字段名1 like &quot;k%h&quot;;	#模糊查询，只查看这个表的字段1里，以k开头h结尾的全部数据</span><br><span class="line">select * from 表名 where 字段名1 like &quot;%p%&quot;;	#模糊查询，只查看这个表的字段1里，带p的全部数据</span><br><span class="line"></span><br><span class="line">select * from 表名 where 字段名 in (&#x27;xxx1&#x27;,&#x27;xxx2&#x27;);			#in 在...里</span><br><span class="line">select * from 表名 where 字段名 not in (&#x27;xxx1&#x27;,&#x27;xxx2&#x27;);		#not in 不在...里</span><br><span class="line">select * from 表名 where 字段名 between 1000 and 2000;		#在...之间（数值区间）</span><br><span class="line"></span><br><span class="line"> mysql -uroot -p123456 &lt; /home/world.sql	#将world.sql文件导入数据库里，注意不是在数据库里操作</span><br><span class="line"> source /home/world.sql;					#将world.sql文件导入数据库里，在数据库里操作</span><br></pre></td></tr></table></figure>

<h1 id="1-Mysql数据库"><a href="#1-Mysql数据库" class="headerlink" title="1,Mysql数据库"></a>1,Mysql数据库</h1><h2 id="1-1-安装mariadb"><a href="#1-1-安装mariadb" class="headerlink" title="1.1.安装mariadb"></a>1.1.安装mariadb</h2><ul>
<li><p>环境Centos7 </p>
</li>
<li><p>优化yum-阿里源</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line"><span class="comment">#优化过省略此步骤，直接yum -y安装</span></span><br><span class="line">yum -y install mariadb-server mariadb</span><br></pre></td></tr></table></figure>

<ul>
<li>启动数据库</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mariadb.service			<span class="comment">#启动数据库</span></span><br><span class="line">systemctl <span class="built_in">enable</span> mariadb.service		<span class="comment">#设置开机自启动</span></span><br><span class="line">systemctl stop mariadb.service			<span class="comment">#关闭数据库</span></span><br><span class="line">systemctl <span class="built_in">disable</span> mariadb.service		<span class="comment">#禁止开机自动启动</span></span><br><span class="line">systemctl status mariadb.service		<span class="comment">#查看数据库状态</span></span><br><span class="line">rpm -qa | grep mariadb-server			<span class="comment">#查看数据库版本</span></span><br></pre></td></tr></table></figure>

<ul>
<li>介绍</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |    #【默认】：系统运行的状态信息，性能信息的存储库</span><br><span class="line">| mysql              |    #【默认】：授权权限，用户管理的数据库</span><br><span class="line">| performance_schema |    #【默认】：系统运行的状态信息，性能信息的存储库</span><br><span class="line">| test               |    #测试库，让用户先测试使用的</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure>

<h2 id="1-2-数据库的相关操作设置"><a href="#1-2-数据库的相关操作设置" class="headerlink" title="1.2.数据库的相关操作设置"></a>1.2.数据库的相关操作设置</h2><ul>
<li>修改数据库密码（知道密码）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Centos7 ~]# mysqladmin -uroot -p123456 password <span class="string">&#x27;654321&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>修改数据库密码（不知道密码）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.关闭数据库。如果关闭数据库查看进程仍然存在 pkill mysqld</span></span><br><span class="line">systemctl stop mariadb.service</span><br><span class="line"><span class="comment">#2.关闭授权表，跳过网络启动数据库</span></span><br><span class="line">mysqld_safe --skip-grant-table --skip-network &amp;</span><br><span class="line"><span class="comment">#3.查看是否启动</span></span><br><span class="line">ps -ef | grep mysqld</span><br><span class="line"><span class="comment">#4.启动了此时直接mysql登录数据库</span></span><br><span class="line">mysql</span><br><span class="line"><span class="comment">#5.查看用户表信息</span></span><br><span class="line">MariaDB [(none)]&gt; <span class="keyword">select</span> user,host,password from mysql.user;</span><br><span class="line"><span class="comment">#6.修改用户表中密码字的信息</span></span><br><span class="line">MariaDB [(none)]&gt; update mysql.user <span class="built_in">set</span> password=PASSWORD(<span class="string">&quot;123456789&quot;</span>) <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span> and host=<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="comment">#7.刷新落盘</span></span><br><span class="line">MariaDB [(none)]&gt; flush privileges;</span><br><span class="line"><span class="comment">#8.退出数据库</span></span><br><span class="line">quit</span><br><span class="line"><span class="comment">#9.杀死mysqld进程</span></span><br><span class="line">pkill mysqld</span><br><span class="line"><span class="comment">#10.正常启动数据库</span></span><br><span class="line">systemctl start mariadb.service</span><br><span class="line"><span class="comment">#11.登录数据库</span></span><br><span class="line">mysql -uroot -p123456789</span><br></pre></td></tr></table></figure>

<ul>
<li>查看用户权限</li>
</ul>
<blockquote>
<p>语法：【show grants for 用户名@’主机域’】</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show grants <span class="keyword">for</span> root@<span class="string">&#x27;10.0.0.%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>给用户授权</li>
</ul>
<blockquote>
<p>语法：【grant  权限  on 库.表  to  用户名@’主机域’;】</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; grant all on *.* to root@&#x27;10.0.0.%&#x27;;</span><br><span class="line"></span><br><span class="line">all    #所有的权限</span><br><span class="line">*.*    #所有的库、所有的表</span><br><span class="line"></span><br><span class="line">#刷新落盘；</span><br><span class="line">MariaDB [(none)]&gt; flush privileges;</span><br></pre></td></tr></table></figure>

<ul>
<li>权限设置案例</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#回收用户（123）的drop删除权限，10.0.0.%是主机域</span><br><span class="line">MariaDB [(none)]&gt; revoke drop on *.* from 123@&#x27;10.0.0.%&#x27;;</span><br><span class="line"></span><br><span class="line">#查看mysql系统中都有哪些权限</span><br><span class="line">show privileges;</span><br></pre></td></tr></table></figure>

<ul>
<li>永久设置字符集</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#1.服务端配置文件配置字符集</span><br><span class="line">vim /etc/my.cnf</span><br><span class="line">......</span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line">......</span><br><span class="line">#2.客户端配置文件配置字符集</span><br><span class="line">vim /etc/my.cnf.d/client.cnf </span><br><span class="line">......</span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line">......</span><br><span class="line">[client-mariadb]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line">......</span><br><span class="line">#3.重启数据库服务</span><br><span class="line">systemctl restart mariadb.service </span><br><span class="line">#4.验证是否配置成功</span><br><span class="line">MariaDB [(none)]&gt; show create database 库名;</span><br></pre></td></tr></table></figure>

<ul>
<li>DML语句</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#定义：主要针对数据库当中的数据表进行操作，用来操作数据的语句；</span><br><span class="line">	增删改查数据；</span><br><span class="line">	- insert  #表中插入数据</span><br><span class="line">	- delete  #删除表中的数据</span><br><span class="line">	- update  #修改表中的数据</span><br><span class="line">	- select  #查询数据表中的数据</span><br><span class="line">#查询DML语句帮助</span><br><span class="line">MariaDB [(none)]&gt; ? data manipulation;</span><br></pre></td></tr></table></figure>

<h1 id="2-mysql表的基操"><a href="#2-mysql表的基操" class="headerlink" title="2.mysql表的基操"></a>2.mysql表的基操</h1><h2 id="2-1数据类型和语法"><a href="#2-1数据类型和语法" class="headerlink" title="2.1数据类型和语法"></a>2.1数据类型和语法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#整型</span><br><span class="line">tinyint  #整型（小）  1byte==8bit==256  【-128~127】</span><br><span class="line">int      #整型（大）   4byte=32bit==（40亿+）</span><br><span class="line">bigint   #整型（超大） 8byte=64bit==（老大了）</span><br><span class="line"></span><br><span class="line">#字符类型</span><br><span class="line">varchar  #变长，varchar（3），</span><br><span class="line">			= abc存储abc</span><br><span class="line">			= a  存储 a</span><br><span class="line">			= abcd 存储 abc （把最后一个丢掉）</span><br><span class="line">char     #定长，char(3)</span><br><span class="line">            = abc 存储 abc</span><br><span class="line">            = a  存储 a + 空格 + 空格</span><br><span class="line">            = abcd 存储 abc （把最后一个丢掉）</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">create table 表名(</span><br><span class="line">    -&gt; 字段 数据类型</span><br><span class="line">    -&gt; ......</span><br><span class="line">    -&gt; 字段 数据类型</span><br><span class="line">    -&gt; primary key()</span><br><span class="line">    -&gt; );</span><br></pre></td></tr></table></figure>

<h2 id="2-2创建一个表名为：shujubiao"><a href="#2-2创建一个表名为：shujubiao" class="headerlink" title="2.2创建一个表名为：shujubiao"></a>2.2创建一个表名为：shujubiao</h2><blockquote>
<p>xuhao、minghzi、nianling……都是每个字段的名字，后面跟的int()、varchar()、not null……都是设置这个字段数据类型的参数</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#创建shujubiao,字段内容有序号、名字、年龄、性别、身高、体重、结婚</span><br><span class="line">MariaDB [test]&gt; create table shujubiao(</span><br><span class="line">    -&gt; xuhao int(10) not null  primary key auto_increment comment &#x27;这是序号&#x27;,	# comment&#x27;&#x27;：添加说明</span><br><span class="line">    -&gt; mingzi varchar(20) not null comment &#x27;这是名字&#x27;,</span><br><span class="line">    -&gt; nianling tinyint(3) not null default &#x27;0&#x27;,		#default &#x27;0&#x27;：设置default为0</span><br><span class="line">    -&gt; xingbie varchar(3) default null,					#default null：设置null为yes</span><br><span class="line">	-&gt; shengao int(3) not null,</span><br><span class="line">	-&gt; tizhong int(3) not null,</span><br><span class="line">	-&gt; jiehun varchar(3) default &#x27;no&#x27;</span><br><span class="line">    -&gt; ) engine=innodb charset=utf8mb4;					#engine=innodb charset=utf8mb4：设置字符集为utf8mb4</span><br><span class="line">#查看表的结构  </span><br><span class="line">MariaDB [test]&gt; desc shujubiao;</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| xuhao    | int(10)     | NO   | PRI | NULL    | auto_increment |	#auto_increment：自增</span><br><span class="line">| mingzi   | varchar(20) | NO   |     | NULL    |                |</span><br><span class="line">| nianling | tinyint(3)  | NO   |     | 0       |                |</span><br><span class="line">| xingbie  | varchar(3)  | YES  |     | NULL    |                |</span><br><span class="line">| shengao  | int(3)      | NO   |     | NULL    |                |</span><br><span class="line">| tizhong  | int(3)      | NO   |     | NULL    |                |</span><br><span class="line">| jiehun   | varchar(3)  | NO   |     | no      |                |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br></pre></td></tr></table></figure>

<h2 id="2-3-表中新增字段"><a href="#2-3-表中新增字段" class="headerlink" title="2.3.表中新增字段"></a>2.3.表中新增字段</h2><blockquote>
<p>语法：【alter  table  表名  add  新增字段名  新增字段类型】</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#新增字段</span><br><span class="line">alter table shujubiao add haha int(20);   		 	  #不设置null，默认是yes</span><br><span class="line">alter table shujubiao add haha int(20) not null; 	  #null设置为NO，默认是yes</span><br><span class="line">alter table shujubiao add haha int(20) after xuhao;	  #创建haha字段在xuhao字段的后面，就是指定插入的位置</span><br><span class="line">alter table shujubiao add haha int(20) not null first;		#first 添加到第一列，不带first默认都是最后一列；</span><br><span class="line">alter table shujubiao add haha int(20) not null comment&#x27;你好&#x27;;	#commen&#x27;&#x27;添加说明内容你好</span><br><span class="line">#添加字段haha，设置null为no，default为9，并指定插入在xuhao字段下面</span><br><span class="line">alter table shujubiao add haha int(20) not null default &#x27;9&#x27; comment&#x27;你好&#x27; after xuhao;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#新增字段哈哈haha</span><br><span class="line">MariaDB [test]&gt; alter table shujubiao add haha int(3) not null default &#x27;9&#x27; comment &#x27;窗前明月光&#x27;;</span><br><span class="line">#查看表的结构</span><br><span class="line">MariaDB [test]&gt; desc shujubiao;</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| xuhao    | int(10)     | NO   | PRI | NULL    | auto_increment |	#auto_increment：自增</span><br><span class="line">				............................</span><br><span class="line">| haha     | int(3)      | NO   |     |   9     |                |</span><br><span class="line">+-------+------------+------+-----+---------+---------------------+</span><br></pre></td></tr></table></figure>

<h2 id="2-4往【shujubiao】表里插入数据信息"><a href="#2-4往【shujubiao】表里插入数据信息" class="headerlink" title="2.4往【shujubiao】表里插入数据信息"></a>2.4往【shujubiao】表里插入数据信息</h2><blockquote>
<p>语法1：insert into 表名  value(第1列内容，第二列内容，第三列内容……);</p>
<p>语法2：insert into 表名(序号,名字,年龄……)  value(1,’小花’,25…….);	#指定插入位置</p>
<p>#凡是字符型的数据都要加【‘   ’】单引号，如汉字，英文字母，数字可以不加</p>
</blockquote>
<ul>
<li><h4 id="第1种方法"><a href="#第1种方法" class="headerlink" title="第1种方法"></a>第1种方法</h4></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert into shujubiao value(1,&#x27;xiaohua&#x27;,22,&#x27;nan&#x27;,175,120,&#x27;yes&#x27;);</span><br><span class="line">#查看插入内容</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao;</span><br><span class="line">+-------+---------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi  | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+---------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">+-------+---------+----------+---------+---------+---------+--------+</span><br><span class="line">MariaDB [test]&gt; insert into shujubiao value(2,&#x27;xiaohua1&#x27;,23,&#x27;nan&#x27;,180,130,&#x27;no&#x27;);</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao;</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi   | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua  |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">|     2 | xiaohua1 |       23 | nan     |     180 |     130 | no     |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br></pre></td></tr></table></figure>

<ul>
<li><h4 id="第2种方法"><a href="#第2种方法" class="headerlink" title="第2种方法"></a>第2种方法</h4></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert into shujubiao(xuhao,mingzi,nianling,xingbie,shengao,tizhong,jiehun) value(3,&#x27;xiaohua2&#x27;,25,&#x27;nv&#x27;,165,125,&#x27;yes&#x27;);</span><br><span class="line">#查看插入内容</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao;</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi   | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua  |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">|     2 | xiaohua1 |       23 | nan     |     180 |     130 | no     |</span><br><span class="line">|     3 | xiaohua2 |       25 | nv      |     165 |     125 | yes    |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">#创建表的时候给xuhao的字段类型设置了auto_increment[自增的意思]就是不写序号它也会往下排</span><br><span class="line">MariaDB [test]&gt; insert into shujubiao(mingzi,nianling,xingbie,shengao,tizhong,jiehun) value(&#x27;xiaohua3&#x27;,27,&#x27;nv&#x27;,168,129,&#x27;no&#x27;);</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao;</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi   | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua  |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">|     2 | xiaohua1 |       23 | nan     |     180 |     130 | no     |</span><br><span class="line">|     3 | xiaohua2 |       25 | nv      |     165 |     125 | yes    |</span><br><span class="line">|     4 | xiaohua3 |       27 | nv      |     168 |     129 | no     |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br></pre></td></tr></table></figure>

<h2 id="2-5删除插入的信息"><a href="#2-5删除插入的信息" class="headerlink" title="2.5删除插入的信息"></a>2.5删除插入的信息</h2><blockquote>
<p>语法：delete from 表名 where xxx&#x3D;xxx;</p>
</blockquote>
<ul>
<li>删除前一定先查看信息，防止有相同的信息，例如同名，删除一个同名的信息，就要where参照其他信息删除【身高、体重…】</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#查看</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao where xuhao=1;</span><br><span class="line">#或者查看名字叫小花的</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao where mingzi=&#x27;xiaohua&#x27;;</span><br><span class="line">+-------+---------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi  | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+---------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">+-------+---------+----------+---------+---------+---------+--------+</span><br><span class="line"></span><br><span class="line">#删除</span><br><span class="line">MariaDB [test]&gt; delete from shujubiao where xuhao=&#x27;4&#x27;;</span><br><span class="line">或者选一个xxx=xxx对应的信息</span><br><span class="line">MariaDB [test]&gt; delete from shujubiao where mingzi=&#x27;xiaohua3&#x27;;</span><br><span class="line">#查看</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao;</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi   | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua  |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">|     2 | xiaohua1 |       23 | nan     |     180 |     130 | no     |</span><br><span class="line">|     3 | xiaohua2 |       25 | nv      |     165 |     125 | yes    |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br></pre></td></tr></table></figure>

<h2 id="2-6修改插入的信息"><a href="#2-6修改插入的信息" class="headerlink" title="2.6修改插入的信息"></a>2.6修改插入的信息</h2><blockquote>
<p>语法：update  表名  set  列名&#x3D;新信息  where 列名&#x3D;’信息’;</p>
</blockquote>
<ul>
<li>修改前先查看：select * from 表名 where 列名&#x3D;信息;</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#修改</span><br><span class="line">MariaDB [test]&gt; update shujubiao set shengao=190 where mingzi=&#x27;xiaohua2&#x27;;</span><br><span class="line">#查看</span><br><span class="line">MariaDB [test]&gt; select * from shujubiao2;</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">| xuhao | mingzi   | nianling | xingbie | shengao | tizhong | jiehun |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line">|     1 | xiaohua  |       22 | nan     |     175 |     120 | yes    |</span><br><span class="line">|     2 | xiaohua1 |       23 | nan     |     180 |     130 | no     |</span><br><span class="line">|     3 | xiaohua2 |       25 | nv      |     190 |     125 | yes    |</span><br><span class="line">+-------+----------+----------+---------+---------+---------+--------+</span><br><span class="line"></span><br><span class="line">MariaDB [test]&gt; update shujubiao2 set shengao=190;</span><br><span class="line">#若要是这样写，不加where mingzi=&#x27;xiaohua2&#x27;; 则所有身高哪一列都将改为190。where xxx=xxx;随便选一个对应的，防止有同名或者同身高,这就是删除修改前先查看的原因</span><br></pre></td></tr></table></figure>

<h1 id="3-数据库数据备份与恢复"><a href="#3-数据库数据备份与恢复" class="headerlink" title="3.数据库数据备份与恢复"></a>3.数据库数据备份与恢复</h1><h2 id="3-1-查看数据库的数据目录"><a href="#3-1-查看数据库的数据目录" class="headerlink" title="3.1.查看数据库的数据目录"></a>3.1.查看数据库的数据目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /var/lib/mysql</span><br></pre></td></tr></table></figure>

<h2 id="3-2-数据库备份"><a href="#3-2-数据库备份" class="headerlink" title="3.2.数据库备份"></a>3.2.数据库备份</h2><h3 id="3-2-1-物理备份"><a href="#3-2-1-物理备份" class="headerlink" title="3.2.1.物理备份"></a>3.2.1.物理备份</h3><blockquote>
<p>需要先关闭数据库服务</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zcvf sql-`data +%F`.tar.gz /var/lib/mysql</span><br></pre></td></tr></table></figure>

<h3 id="3-2-2-逻辑备份"><a href="#3-2-2-逻辑备份" class="headerlink" title="3.2.2.逻辑备份"></a>3.2.2.逻辑备份</h3><blockquote>
<p>mysqldump命令；</p>
<p>语法：【mysqldump  -uroot -p1 [备份参数] &gt;  &#x2F;路径&#x2F;文件名.sql】</p>
<ul>
<li>参数<ul>
<li>-A       全备，备份所有数据库的数据信息</li>
<li>-B      数据库名  #备份指定数据库的数据信息</li>
<li>-F      备份启动之前，自动刷新日志文件（落盘）；</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#【-A】全备，/home/：是备份到根目录下的home文件夹里</span></span><br><span class="line">mysqldump -uroot -p123456 -A &gt; /home/back.sql</span><br><span class="line"></span><br><span class="line"><span class="comment">#【-B】指定库备份</span></span><br><span class="line">mysqldump -uroot -p123456 -B 库名1 库名2 &gt; /home/back.sql</span><br><span class="line"></span><br><span class="line"><span class="comment">#指定数据库中的部分数据表进行备份</span></span><br><span class="line">mysqldump -uroot -p123456 库名 表名 &gt; /home/back.sql</span><br></pre></td></tr></table></figure>

<h2 id="3-3-数据恢复"><a href="#3-3-数据恢复" class="headerlink" title="3.3.数据恢复"></a>3.3.数据恢复</h2><blockquote>
<p>就是往数据库里导入文件，在数据库里操作</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [<span class="built_in">test</span>]&gt; <span class="built_in">source</span> ~/back.sql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>登录数据库前导入，不在数据库里操作</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 &lt; ~/back.sql</span><br><span class="line">#查看</span><br><span class="line">mysql -uroot -p123456 -e &quot;show databases&quot;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://jhyyj.com">江湖有缘见</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://jhyyj.com/2024/09/16/MySql%E7%9A%84%E5%9F%BA%E6%93%8D/">https://jhyyj.com/2024/09/16/MySql%E7%9A%84%E5%9F%BA%E6%93%8D/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jhyyj.com" target="_blank">江湖有缘见</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-gp6koe_2520x1680.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/09/16/VScode%E8%BF%9C%E7%A8%8BSSH%E8%BF%9E%E6%8E%A5docker%E5%AE%B9%E5%99%A8/" title="VScode远程Ssh连接Docker容器"><img class="cover" src="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-p9pro3_2520x1680.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">VScode远程Ssh连接Docker容器</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">江湖有缘见</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fa-brands fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fa-brands fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySql%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">MySql常用命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Mysql%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">1,Mysql数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E5%AE%89%E8%A3%85mariadb"><span class="toc-number">2.1.</span> <span class="toc-text">1.1.安装mariadb</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text">1.2.数据库的相关操作设置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-mysql%E8%A1%A8%E7%9A%84%E5%9F%BA%E6%93%8D"><span class="toc-number">3.</span> <span class="toc-text">2.mysql表的基操</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95"><span class="toc-number">3.1.</span> <span class="toc-text">2.1数据类型和语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%A1%A8%E5%90%8D%E4%B8%BA%EF%BC%9Ashujubiao"><span class="toc-number">3.2.</span> <span class="toc-text">2.2创建一个表名为：shujubiao</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E8%A1%A8%E4%B8%AD%E6%96%B0%E5%A2%9E%E5%AD%97%E6%AE%B5"><span class="toc-number">3.3.</span> <span class="toc-text">2.3.表中新增字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4%E5%BE%80%E3%80%90shujubiao%E3%80%91%E8%A1%A8%E9%87%8C%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">3.4.</span> <span class="toc-text">2.4往【shujubiao】表里插入数据信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC1%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.0.1.</span> <span class="toc-text">第1种方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC2%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.0.2.</span> <span class="toc-text">第2种方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5%E5%88%A0%E9%99%A4%E6%8F%92%E5%85%A5%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">3.5.</span> <span class="toc-text">2.5删除插入的信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6%E4%BF%AE%E6%94%B9%E6%8F%92%E5%85%A5%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">3.6.</span> <span class="toc-text">2.6修改插入的信息</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="toc-number">4.</span> <span class="toc-text">3.数据库数据备份与恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95"><span class="toc-number">4.1.</span> <span class="toc-text">3.1.查看数据库的数据目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD"><span class="toc-number">4.2.</span> <span class="toc-text">3.2.数据库备份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-%E7%89%A9%E7%90%86%E5%A4%87%E4%BB%BD"><span class="toc-number">4.2.1.</span> <span class="toc-text">3.2.1.物理备份</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E9%80%BB%E8%BE%91%E5%A4%87%E4%BB%BD"><span class="toc-number">4.2.2.</span> <span class="toc-text">3.2.2.逻辑备份</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D"><span class="toc-number">4.3.</span> <span class="toc-text">3.3.数据恢复</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/16/MySql%E7%9A%84%E5%9F%BA%E6%93%8D/" title="MySQL的基操"><img src="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-gp6koe_2520x1680.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL的基操"/></a><div class="content"><a class="title" href="/2024/09/16/MySql%E7%9A%84%E5%9F%BA%E6%93%8D/" title="MySQL的基操">MySQL的基操</a><time datetime="2024-09-16T11:46:23.034Z" title="发表于 2024-09-16 19:46:23">2024-09-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/16/VScode%E8%BF%9C%E7%A8%8BSSH%E8%BF%9E%E6%8E%A5docker%E5%AE%B9%E5%99%A8/" title="VScode远程Ssh连接Docker容器"><img src="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-p9pro3_2520x1680.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VScode远程Ssh连接Docker容器"/></a><div class="content"><a class="title" href="/2024/09/16/VScode%E8%BF%9C%E7%A8%8BSSH%E8%BF%9E%E6%8E%A5docker%E5%AE%B9%E5%99%A8/" title="VScode远程Ssh连接Docker容器">VScode远程Ssh连接Docker容器</a><time datetime="2024-09-16T11:27:13.414Z" title="发表于 2024-09-16 19:27:13">2024-09-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/16/Docker%E7%9A%84%E5%9F%BA%E6%93%8D/" title="Docker的基操"><img src="https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-286doy_2520x1680.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker的基操"/></a><div class="content"><a class="title" href="/2024/09/16/Docker%E7%9A%84%E5%9F%BA%E6%93%8D/" title="Docker的基操">Docker的基操</a><time datetime="2024-09-16T11:27:13.413Z" title="发表于 2024-09-16 19:27:13">2024-09-16</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://jhyyj.oss-cn-qingdao.aliyuncs.com/blog/wallhaven-gp6koe_2520x1680.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 江湖有缘见</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>